<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√âditeur d'articles - Le Scribouill'art</title>
    <meta name="theme-color" content="#2f2e3a">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="icon" href="assets/icons/icon-192.png" type="image/png">
    <link rel="apple-touch-icon" href="assets/icons/icon-192.png">
    <link rel="stylesheet" href="style.css">
</head>
<body class="editor-page">
    <a href="#main-content" class="skip-link">Aller au contenu principal</a>
    <header class="header">
        <div class="container">
            <a href="../index.html" style="text-decoration: none; color: inherit;">
                <h1 class="logo">Le Scribouill'art</h1>
            </a>
            <div style="display: flex; align-items: center; gap: 1rem;">
                <p class="tagline" style="margin-bottom: 0;">√âditeur d'articles</p>
                <button class="dark-mode-toggle" id="darkModeToggle" title="Basculer en mode nuit">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="moon-icon">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="sun-icon" style="display: none;">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <main class="main" id="main-content">
        <!-- Barre sup√©rieure avec toolbar int√©gr√©e -->
        <div class="top-bar">
            <div class="top-bar-left">
                <!-- Barre d'outils enrichie -->
                <div class="toolbar">
                    <!-- S√©lecteur de paragraphe -->
                    <select class="toolbar-select" id="formatSelect">
                        <option value="p">Paragraphe</option>
                        <option value="h1">Titre 1</option>
                        <option value="h2">Titre 2</option>
                        <option value="h3">Titre 3</option>
                        <option value="h4">Titre 4</option>
                        <option value="h5">Titre 5</option>
                        <option value="h6">Titre 6</option>
                        <option value="blockquote">Citation</option>
                        <option value="pre">Code</option>
                    </select>

                    <div class="toolbar-separator"></div>

                    <!-- Formatage de texte -->
                    <button class="toolbar-btn" data-command="bold" title="Gras (Ctrl+B)">
                        <strong>B</strong>
                    </button>
                    <button class="toolbar-btn" data-command="italic" title="Italique (Ctrl+I)">
                        <em>I</em>
                    </button>
                    <button class="toolbar-btn" data-command="underline" title="Soulign√© (Ctrl+U)">
                        <u>U</u>
                    </button>
                    <button class="toolbar-btn" data-command="strikeThrough" title="Barr√©">
                        <s>S</s>
                    </button>

                    <div class="toolbar-separator"></div>

                    <!-- Couleurs -->
                    <div class="color-picker-wrapper">
                        <button class="toolbar-btn" title="Couleur du texte" onclick="document.getElementById('textColor').click()">
                            A
                        </button>
                        <input type="color" id="textColor" class="color-input">
                    </div>
                    <div class="color-picker-wrapper">
                        <button class="toolbar-btn" title="Couleur de fond" onclick="document.getElementById('bgColor').click()">
                            üé®
                        </button>
                        <input type="color" id="bgColor" class="color-input">
                    </div>

                    <div class="toolbar-separator"></div>

                    <!-- Listes -->
                    <button class="toolbar-btn" data-command="insertUnorderedList" title="Liste √† puces">
                        ‚Ä¢
                    </button>
                    <button class="toolbar-btn" data-command="insertOrderedList" title="Liste num√©rot√©e">
                        1.
                    </button>
                    <button class="toolbar-btn" data-command="outdent" title="R√©duire le retrait">
                        ‚óÅ
                    </button>
                    <button class="toolbar-btn" data-command="indent" title="Augmenter le retrait">
                        ‚ñ∑
                    </button>

                    <div class="toolbar-separator"></div>

                    <!-- Alignement -->
                    <button class="toolbar-btn" data-command="justifyLeft" title="Aligner √† gauche">
                        ‚¨Ö
                    </button>
                    <button class="toolbar-btn" data-command="justifyCenter" title="Centrer">
                        ‚Üî
                    </button>
                    <button class="toolbar-btn" data-command="justifyRight" title="Aligner √† droite">
                        ‚û°
                    </button>
                    <button class="toolbar-btn" data-command="justifyFull" title="Justifier">
                        ‚¨å
                    </button>

                    <div class="toolbar-separator"></div>

                    <!-- Liens et m√©dias -->
                    <button class="toolbar-btn" id="linkBtn" title="Ins√©rer un lien">
                        üîó
                    </button>
                    <button class="toolbar-btn" id="unlinkBtn" data-command="unlink" title="Supprimer le lien">
                        üîì
                    </button>
                    <button class="toolbar-btn" id="imageBtn" title="Ins√©rer une image">
                        üñºÔ∏è
                    </button>

                    <div class="toolbar-separator"></div>

                    <!-- Actions -->
                    <button class="toolbar-btn" data-command="undo" title="Annuler (Ctrl+Z)">
                        ‚Ü∂
                    </button>
                    <button class="toolbar-btn" data-command="redo" title="R√©tablir (Ctrl+Y)">
                        ‚Ü∑
                    </button>
                    <button class="toolbar-btn" data-command="removeFormat" title="Supprimer le formatage">
                        ‚úñ
                    </button>
                    <button class="toolbar-btn" id="sourceBtn" title="Voir le code HTML">
                        &lt;/&gt;
                    </button>
                </div>
            </div>
            <div class="top-bar-actions">
                <button class="wp-button" id="loadBtn">Charger</button>
                <button class="wp-button danger" id="clearBtn">Effacer</button>
                <button class="wp-button primary" id="saveBtn">Publier</button>
            </div>
        </div>

        <div class="editor-container" id="editorContainer">
            <!-- Barre lat√©rale des articles -->
            <aside class="sidebar">
                <div class="sidebar-header">
                    <h2 class="sidebar-title">Mes articles</h2>
                    <button class="new-article-btn" id="newArticleBtn" title="Nouvel article">+</button>
                </div>
                <div class="articles-list" id="articlesList">
                    <div class="no-articles">Aucun article sauvegard√©</div>
                </div>
            </aside>

            <!-- Zone principale de l'√©diteur -->
            <div class="editor-main">
                <div class="editor-wrapper">
                    <!-- Informations de l'article -->
                    <div class="article-info">
                        <input 
                            type="text" 
                            id="articleSubject" 
                            class="article-subject" 
                            placeholder="Ajouter un titre"
                            maxlength="100"
                        >
                    </div>

                    <!-- Zone d'√©dition -->
                    <div class="editor-area" id="editor" contenteditable="true">
                        <p>Commencez √† √©crire ou tapez / pour choisir un bloc</p>
                    </div>

                    <!-- Zone de sortie -->
                    <div class="status-message" id="statusMessage"></div>
                </div>
            </div>

            <!-- Radio YouTube -->
            <aside class="youtube-player-sidebar">
                <div class="youtube-player-container">
                    <div class="youtube-player-header">
                        <h2>Musique</h2>
                        <button class="youtube-toggle" id="youtubeToggle" title="R√©duire/Agrandir">‚àí</button>
                    </div>
                    <div class="youtube-player-content" id="youtubeContent">
                        <div class="youtube-iframe-wrapper">
                            <iframe 
                                id="youtubeIframe"
                                width="100%" 
                                height="315" 
                                src="https://www.youtube.com/embed/jfKfPfyJRdk?autoplay=0" 
                                frameborder="0" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                allowfullscreen>
                            </iframe>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <nav class="footer-nav">
                <a href="a-propos.html" class="footer-link">√Ä propos</a>
                <a href="contact.html" class="footer-link">Contact</a>
                <a href="auteur.html" class="footer-link">Scribes</a>
                <a href="mentions-legales.html" class="footer-link">Mentions l√©gales</a>
                <a href="accessibilite.html" class="footer-link footer-icon-link" aria-label="Accessibilit√©" title="Accessibilit√©">
                    <img src="../images/icons/accessibilite.png" alt="Ic√¥ne accessibilit√©" width="20" height="20">
                </a>
            </nav>
            <p class="footer-copyright">¬© 2025 Le Scribouill'art - Tous droits r√©serv√©s</p>
        </div>
    </footer>

    <!-- Menu flottant RSS -->
    <div class="floating-social">
        <button class="floating-social-button header-scroll-button" onclick="window.scrollTo({top:0,behavior:'smooth'})" title="Retour en haut" aria-label="Retour en haut">
            <img src="../images/icons/flechehaut.png" alt="Fl√®che vers le haut" width="20" height="20">
        </button>
        <a href="../feed.xml" class="floating-social-button rss-button" title="S'abonner au flux RSS" aria-label="S'abonner au flux RSS" target="_blank">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#fff" aria-hidden="true" focusable="false">
                <path d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z"/>
            </svg>
        </a>
        <a href="../index.html" class="floating-social-button home-button" title="Retour √† l'accueil" aria-label="Retour √† l'accueil">
            <img src="../images/logo/scribouillart.png" alt="Le Scribouill'art" width="80" height="80">
        </a>
        <button class="floating-social-button footer-scroll-button" onclick="document.querySelector('footer').scrollIntoView({behavior:'smooth'})" title="Aller au pied de page" aria-label="Aller au pied de page">
            <img src="../images/icons/flechebas.png" alt="Fl√®che vers le bas" width="20" height="20">
        </button>
    </div>

    <script src="publication.js"></script>
    <script src="pwa.js"></script>
</body>
</html>
